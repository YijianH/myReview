##### 一、物理层

> 物理层负责的是数据比特流在传输媒体上的传输。

1. ###### 带通调制

   将原始信号转换成适合信道传输的形式。

2. ###### 通信方式

   - 单工通信

     严格的一方发，一方收。

   - 半双工通信

     双方都能收发，但同一时刻只能一方发一方收。

   - 全双工通信

     双方可以同时收发。

##### 二、数据链路层

> 数据链路层会将由网络层传下来的分组添加自己的首部和尾部，封装成帧。

- 常见链路层协议

  1. PPP 协议

     点对点协议，为同等双方点对点之间传输数据包这样的简单物理链路而设计，是对之前SLIP协议的改进。

     - 提供全双工操作，并按照顺序传递数据包。

  2. 补充

     MAC地址为链路层地址（6Byte)，用于唯一标识网络适配器即我们常说的网卡，有多少网卡就有多少个MAC，比如PC有无线和无线的，所以为2.

##### 三、网络层

> 网络层是互联网的核心，负责的是主机间的通信。

- IP协议

  现有IPv4和IPv6两个版本。

- 配套使用的一些协议

  - ARP 地址解析协议：IP address ➡ MAC address
  - ICMP 网际控制报文协议：ping是其一个重要应用
  - IGMP 网际组管理协议

  常见的协议还有RIP/OSPF/BGP。

##### 四、传输层

> 传输层负责的是进程间的通信

1. 最最重要的两个协议

- UDP协议

  > 用户数据报协议，面向报文，无连接，尽最大可能交付。

- TCP协议

  > 传输控制协议，面向连接，字节流，且按需到达，提供可靠传输。

  1. 三次握手

     原因：防止在信道滞留的连接请求到达服务器端，导致服务器打开两次连接，浪费。

  2. 四次挥手

     从全双工的角度思考，同时考虑到数据传输的完整性

- 如何支持可靠传输的？

  1. 超时重传

  2. 滑动窗口

  3. 流量控制

  4. 拥塞控制

     > 慢开始，拥塞避免（加法增大乘法减小，AIMD算法），快重传，快恢复）

##### 五、应用层

常用协议

- FTP

- 邮件相关 SMTP（推）IMAP/POP3（拉）

- DHCP

- DNS 域名解析

  > 根域名、顶级域名。。。
  >
  > 递归查询、迭代查询

- **HTTP协议**

  1. 交互过程

     > 客户端一般如浏览器发起连接请求，tcp，服务器端确认后返回结果给客户端（如HTML代码，客户端对页面进行渲染）

  2. 请求报文

     首行：请求方法、URL、http协议版本

     首部

     内容主体

  3. 响应报文

     首行：协议版本、状态码和对应描述 如 http/1.1 200 OK

     首部

     内容主体

     响应的内容主体

  4. **http方法**

     GET 获取资源

     HEAD 不返回报文实体主体，主要用于确认URL的有效值以及资源更新的日期时间

     POST 传输数据

     CONNECT 要求与代理服务器通信时建立隧道 SSL+TLS加密

  5. 状态码

     1xx——5xx

     100 连接请求正在处理

     200 请求成功

     301 永久重定向 303 临时重定向 

     4xx 客户端错误 403 拒绝访问 404 资源不存在

     5xx 服务器错误 500 服务器在执行请求时出错 503 服务器暂处于超负载或停机状态

  6. 短连接和长连接

     生存周期不同，节约资源

  7. cookie

     http本身是无状态的，意思是前后遇到两个人，它认为这两个人并无二异。

     保存在本地，浏览器每次向同一server请求时会被携带，由于之后每次请求都会携带这部分信息，会带来额外开销

  8. session

     保存在服务器端，更安全 分配sessionID 作为数据库索引

- HTTPS

  http+SSL 隧道

  - 对称加密和非对称加密

    区别在于加密解密是否用同一种密钥

  - https 混合加密

  > 权限只读，说明更安全 GET比POST安全
  >
  > HTTP2.0相较于v1.0性能提升，压缩了首部

